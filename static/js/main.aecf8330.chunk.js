(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,t,n){"use strict";var a=n(214),r=n.n(a);function o(e){return e.json()}function i(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,a={method:t,headers:{Authorization:"1115c49e61749cfb3008ae6a3ba24cb7"},credentials:"include"};if("POST"===t||"PUT"===t||"DELETE"===t){var c=new FormData;for(var u in n)c.append(u,n[u]);a.body=c}return r()(e,a).then(i).then(o).then((function(e){return e})).catch((function(e){return e}))};t.a={GET:function(e,t){return c(e,"GET",t)},POST:function(e,t){return c(e,"POST",t)},PUT:function(e,t){return c(e,"PUT",t)},DELETE:function(e,t){return c(e,"DELETE",t)}}},194:function(e,t,n){"use strict";n.r(t);var a=n(471);t.default=a.keys().filter((function(e){return"./index.js"!==e})).map((function(e){return a(e)}))},220:function(e,t,n){e.exports=n(476)},261:function(e,t){},31:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(336),""),i={GET_V1_NAVIGATION_LIST:(o="http://localhost:3000/api")+"/v1/navigation/list",GET_V1_CHARTS_BAR1:o+"/v1/charts/bar1",GET_V1_MENU:o+"/v1/menu"};t.a={htmlTitle:"DDMAdmin - {title}",router:{loading:r.a.createElement((function(e){var t=e.loading,n=e.style,a=void 0===n?"style1":n;return t?r.a.createElement("div",{className:"loading-spinner loading-spinner-".concat(a)}):null}),{loading:!0})},api:{LOCAL:"http://localhost:3000/api",LAN:"http://localhost:3000/lanApi"},apiUrl:i,exception:{global:function(e,t){"RequestError"===e.name?(console.error("message"+e.message),console.error(e)):console.error(e)}},mock:{toSuccess:function(e){return{status:!0,data:e}},toError:function(e){return{status:!1,message:e}}}}},336:function(e,t,n){},341:function(e,t,n){},373:function(e,t,n){},471:function(e,t,n){var a={"./index.js":194,"./login/index.js":477,"./navigation/index.js":478};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=471},476:function(e,t,n){"use strict";n.r(t);var a=n(61),r=n.n(a),o=n(200),i=n.n(o),c=n(102),u=n.n(c),l=n(215),s=n(31);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=n(0),h=n.n(p),d=n(18),f=(n(184),n(9)),m=n(41),g=n(42),v=n(44),E=n(43),b=n(45),y=(n(185),n(40)),O=(n(479),n(53)),_=(n(341),n(99)),j=O.a.SubMenu,x=y.a.Header,w=y.a.Content,k=y.a.Sider,T=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(v.a)(this,Object(E.a)(t).call(this))).setOpenKeys=function(e){var t=n.childerIsExist(e,n.props.location.pathname),a=[];t&&t.sort&&(a.push(t.sort),n.setState({openKeys:a}))},n.onOpenChange=function(e){n.setState({openKeys:e})},n.onCollapse=function(e){n.setState({collapsed:e})},n.routerJump=function(e,t){n.props.dispatch(Object(_.push)(e)),"head"===t&&n.setState({openKeys:["1"]}),n.sideEdgeNavigation(e)},n.childerIsExist=function(e,t){for(var n=0;n<e.length;n++)if(e[n].childer)for(var a=0;a<e[n].childer.length;a++)for(var r=0;r<e[n].childer[a].childer.length;r++)if(e[n].childer[a].childer[r].router===t)return{item:e[n],sort:e[n].childer[a].sort}},n.headNavigation=function(){for(var e=[],t=n.props.headNavigationList,a=function(a){e.push(h.a.createElement(O.a.Item,{key:t[a].router,onClick:function(){n.routerJump(t[a].router,"head")}},h.a.createElement("span",null,t[a].title)))},r=0;r<t.length;r++)a(r);return e},n.sideEdgeNavigation=function(e){var t=[],a=n.props.headNavigationList,r=a.filter((function(t){return t.router===e&&"/home"!==e}))[0],o=null;if(r)o=r;else{var i=n.childerIsExist(a,e);o=i?i.item:null}if(o){for(var c=0;c<o.childer.length;c++)o.childer[c].title?t.push(h.a.createElement(j,{key:o.childer[c].sort,title:h.a.createElement("span",null,h.a.createElement(f.a,{type:"user"}),h.a.createElement("span",null,o.childer[c].title))},o.childer[c].childer.map((function(e){return h.a.createElement(O.a.Item,{key:e.router,onClick:function(){n.routerJump(e.router)}},e.title)})))):t.push(o.childer[c].childer.map((function(e){return h.a.createElement(O.a.Item,{key:e.router,onClick:function(){n.routerJump(e.router)}},e.title)})));return t}return null},n.state={collapsed:!1,openKeys:[]},e.dispatch({type:"navigation/get_head_list",callback:function(e){n.setOpenKeys(e)}}),n}return Object(b.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.routerData.childRoutes,t=this.props.location.pathname,n=this.childerIsExist(this.props.headNavigationList,t),a=null;return n&&n.item.router&&(a=n.item.router),h.a.createElement("div",null,window.dva_router_pathMap.hasOwnProperty(t)?h.a.createElement("div",null,h.a.createElement(x,{className:"header",style:{width:"100vw",position:"fixed",top:0}},h.a.createElement("div",{className:"logo"},"\u591a\u591a\u7f8e\u6d4b\u8bd5\u7248",h.a.createElement("sup",{style:{fontSize:"12px"}},"2.00dev")),h.a.createElement(O.a,{theme:"dark",mode:"horizontal",selectedKeys:[a],style:{lineHeight:"64px"}},this.headNavigation())),h.a.createElement(y.a,null,"/home"!==t?h.a.createElement(k,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:64},collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},h.a.createElement(O.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[t],selectedKeys:[t],openKeys:this.state.openKeys,onOpenChange:this.onOpenChange},this.sideEdgeNavigation(t))):null,h.a.createElement(y.a,null,h.a.createElement(w,{style:{paddingTop:"24px",overflow:"initial"}},h.a.createElement("div",{style:{padding:"/home"===t?"60px 0 0 96px":"60px 0 0 216px",background:"#fff"}},h.a.createElement(d.Switch,null,e)))))):h.a.createElement("h1",null,"\u6ca1\u6709\u627e\u5230\u9875\u9762"))}}]),t}(p.Component),N=Object(a.connect)((function(e){return{headNavigationList:e.navigation.headNavigationList}}))(T),S=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("h1",null,"404"))}}]),t}(p.Component),R=(n(366),n(209)),C=(n(190),n(80)),L=(n(369),n(147)),I=(n(480),n(108)),M=(n(373),y.a.Content),D=I.a.Item,P=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t=n.props,a=t.form,r=t.dispatch;e.preventDefault(),a.validateFields((function(e,t){!e&&t.user&&t.pass&&r({type:"login/async_login",payload:t})}))},n}return Object(b.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.loading.effects["user/query"],t=this.props,n=(t.loading,t.form.getFieldDecorator);return h.a.createElement(y.a,{className:"full-layout login-page"},h.a.createElement(M,null,h.a.createElement(R.a,{tip:"\u767b\u5f55\u4e2d...",spinning:!!e},h.a.createElement(I.a,{onSubmit:this.handleSubmit,className:"login-form"},h.a.createElement("div",{className:"user-img"},h.a.createElement("b",null,"DDM"),h.a.createElement("span",null,"Admin")),h.a.createElement(D,null,n("user",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d"}]})(h.a.createElement(L.a,{size:"large",prefix:h.a.createElement(f.a,{type:"user"}),placeholder:"\u7528\u6237\u540d"}))),h.a.createElement(D,null,n("pass",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"}]})(h.a.createElement(L.a,{size:"large",prefix:h.a.createElement(f.a,{type:"lock"}),type:"password",placeholder:"\u5bc6\u7801"}))),h.a.createElement(D,null,h.a.createElement(C.a,{size:"large",type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55"))))))}}]),t}(p.Component),A=I.a.create()(P),G=Object(a.connect)((function(e){e.login;return{loading:e.loading}}))(A),K=n(32),U=n(216),z=n(212),V=n.n(z),J=n(60),q=n.n(J),F=n(213),H=n.n(F),B=function(e){localStorage.setItem("token","ads");var t=localStorage.getItem("token");return!e||e.auth||t?t?"/login"===e.path?h.a.createElement(d.Redirect,{to:"/home"}):(e.path,h.a.createElement(d.Route,e)):e&&e.auth?h.a.createElement(d.Redirect,{to:"/login"}):h.a.createElement(d.Route,e):h.a.createElement(d.Route,e)},W=function(e,t,n){return u()({app:e,models:function(){return t},component:n})};window.dva_router_pathMap={};var $=function(e,t){var n=t(e),a=n.component,r=n.path,o=n.indexRoute,i=n.title,c=n.exact,u=n.auth,l=Object(U.a)(n,["component","path","indexRoute","title","exact","auth"]);r&&"/"!==r&&(window.dva_router_pathMap[r]=Object(K.a)({path:r,title:i},l),l.childRoutes&&l.childRoutes.length&&l.childRoutes.forEach((function(e){window.dva_router_pathMap[e.key]&&(window.dva_router_pathMap[e.key].parentPath=r)})));var p=q()({key:r||H.a.randomStr(4),render:function(e){return h.a.createElement(V.a,{title:s.a.htmlTitle?s.a.htmlTitle.replace(/{.*}/gi,i):i},h.a.createElement(a,Object.assign({routerData:l},e)))}},r&&{path:r},c&&{exact:c},u&&{auth:u});return o?[h.a.createElement(d.Redirect,{key:r+"_redirect",exact:!0,from:r,to:o}),h.a.createElement(d.Route,Object.assign({},p,{render:function(){return B(p)}}))]:h.a.createElement(d.Route,Object.assign({},p,{render:function(){return B(p)}}))},Q=function(e){return{path:"/home",title:"\u9996\u9875",auth:!0,component:W(e,[],(function(){return n.e(8).then(n.bind(null,481))}))}},X=function(e){return $(e,Q)},Y=function(e){return{path:"/productManagement",title:"\u57fa\u7840\u6570\u636e",component:W(e,[],(function(){return n.e(5).then(n.bind(null,482))}))}},Z=function(e){return $(e,Y)},ee=function(e){return{path:"/classifiedManagement",title:"\u5206\u7c7b\u7ba1\u7406",component:W(e,[],(function(){return n.e(4).then(n.bind(null,483))}))}},te=function(e){return $(e,ee)},ne=function(e){return{path:"/brandManagement",title:"\u54c1\u724c\u7ba1\u7406",component:W(e,[],(function(){return n.e(3).then(n.bind(null,484))}))}},ae=function(e){return $(e,ne)},re=function(e){return{path:"/seriesManagement",title:"\u7cfb\u5217\u7ba1\u7406",component:W(e,[],(function(){return n.e(6).then(n.bind(null,485))}))}},oe=function(e){return $(e,re)},ie=function(e){return{path:"/specificationManagement",title:"\u89c4\u683c\u7ba1\u7406",component:W(e,[],(function(){return n.e(7).then(n.bind(null,486))}))}},ce=function(e){return $(e,ie)},ue=function(e){return{path:"/orderList",title:"\u8ba2\u5355\u5217\u8868",auth:!0,component:W(e,[],(function(){return n.e(11).then(n.bind(null,487))}))}},le=function(e){return $(e,ue)},se=function(e){return{path:"/afterSalesOrder",title:"\u552e\u540e\u8ba2\u5355",auth:!0,component:W(e,[],(function(){return n.e(9).then(n.bind(null,488))}))}},pe=function(e){return $(e,se)},he=function(e){return{path:"/orderGoods",title:"\u8ba2\u8d27",auth:!0,component:W(e,[],(function(){return n.e(10).then(n.bind(null,489))}))}},de=function(e){return $(e,he)},fe=function(e){return{path:"/receivingGoods",title:"\u6536\u8d27",auth:!0,component:W(e,[],(function(){return n.e(12).then(n.bind(null,490))}))}},me=function(e){return $(e,fe)},ge=function(e){return{path:"/websiteParameters",title:"\u7f51\u7ad9\u53c2\u6570",component:W(e,[],(function(){return n.e(13).then(n.bind(null,491))}))}},ve=function(e){return $(e,ge)},Ee=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("h1",null,"\u90fd\u6ca1\u627e\u5230\u54e6"))}}]),t}(p.Component),be=function(){return{title:"\u9875\u9762\u6ca1\u6709\u627e\u5230",component:Ee}},ye=function(e){return $(e,be)},Oe=function(e){return[{path:"/error",title:"\u9519\u8bef",indexRoute:"/error/404",component:S},{path:"/login",title:"\u767b\u5f55",indexRoute:"/login/sign",component:G},{path:"/",title:"\u9996\u9875",indexRoute:"/home",component:N,auth:!0,childRoutes:[X(e),Z(e),te(e),ae(e),oe(e),ce(e),le(e),pe(e),de(e),me(e),ve(e),ye()]}]},_e=function(e){return function(e,t){return h.a.createElement(d.Switch,null,t(e).map((function(t){return $(e,(function(){return t}))})))}(e,Oe)};var je=function(e){var t=e.history,n=e.app;return h.a.createElement(d.Router,{history:t},h.a.createElement(d.Switch,null,h.a.createElement(d.Router,{history:t},_e(n))))},xe=r()({onAction:i.a});xe.use({onError:s.a.exception.global}),xe.use(Object(l.a)()),n(194).default.forEach((function(e){return xe.model(e.default)})),u.a.setDefaultLoadingComponent((function(){return s.a.router.loading})),xe.router(je),xe.start("#root"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},477:function(e,t,n){"use strict";n.r(t);var a=n(32),r=n(195),o={head_navigation_list:function(e,t){return r.set(r.lensProp("head_navigation_list"),t.head_navigation_list.data,e)}},i=n(66),c=n.n(i),u=n(105),l=n(31),s={async_login:c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.put,e.next=3,u.a.POST("".concat(l.a.apiUrl.V1_MENU),{title:"ziding",route:"/a/b"});case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)}))};t.default={namespace:"login",state:Object(a.a)({},{}),reducers:Object(a.a)({},o),effects:Object(a.a)({},s)}},478:function(e,t,n){"use strict";n.r(t);var a=n(32),r=n(195),o={modify_current_page:function(e,t){return r.set(r.lensProp("currentPage"),t.n,e)},head_navigation_list:function(e,t){return r.set(r.lensProp("headNavigationList"),t.head_navigation_list.data,e)}},i=n(66),c=n.n(i),u=n(105),l=n(31),s={get_head_list:c.a.mark((function e(t,n){var a,r,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.action,a=t.callback,r=n.call,o=n.put,e.next=4,r((function(){return u.a.GET("".concat(l.a.apiUrl.GET_V1_NAVIGATION_LIST))}));case 4:if(i=e.sent,!(s=i.head_navigation_list)){e.next=10;break}return a&&"function"===typeof a&&a(s.data),e.next=10,o({type:"head_navigation_list",head_navigation_list:s});case 10:case"end":return e.stop()}}),e)}))};t.default={namespace:"navigation",state:Object(a.a)({},{currentPage:"1",headNavigationList:[]}),reducers:Object(a.a)({},o),effects:Object(a.a)({},s)}}},[[220,1,2]]]);
//# sourceMappingURL=main.aecf8330.chunk.js.map